# 03. Codex 작업 가이드

## 기본 원칙
- 변경 범위를 최소화하고, 파일/구조는 문서에 맞게 유지
- 기능은 작게 쪼개서 PR 단위로 완결
- 코드 작성 후 반드시:
  - `npm run build`가 성공하도록 유지
  - 콘솔 에러/워닝 최소화

## Codex 커밋/PR 규칙
Codex가 자동으로 작업할 때도 아래 규칙을 기본값으로 사용합니다.

### 1) 커밋 규칙
- 형식: `타입: 요약`
- 타입: `feat`, `fix`, `docs`, `style`, `refactor`, `perf`, `test`, `chore`
- 한 커밋에는 한 목적만 담기
- 요약은 짧고 명령형으로 작성(예: `docs: codex 작업 로그 규칙 추가`)

### 2) PR 규칙
- PR 제목은 커밋 규칙과 동일한 형식 사용 권장
- PR 본문에는 아래 항목을 포함
  - 변경 배경/목적
  - 주요 변경 파일 및 내용 요약
  - 검증 방법과 실행 결과(예: `npm run build`)
  - 필요 시 스크린샷 또는 동작 캡처

### 3) 작업 로그 문서 동기화(필수)
- 작업으로 코드/문서가 변경되면 `docs/05-work-log.md`도 함께 업데이트
- 최소 기록 항목
  - 날짜
  - 작업 제목
  - 변경 파일
  - 검증 명령
  - 비고(후속 작업, 주의사항)
- 로그는 최신 항목이 위로 오도록(역순) 기록

## 작업 요청 템플릿(예시)
- 목적: 무엇을 만들지 한 문장
- 범위: 수정/추가할 파일 목록
- 요구사항: 동작/성능/시각효과 기준
- 완료 조건: 체크리스트

예:
- 목적: 전진 속도에 따라 FOV가 자연스럽게 변하도록 구현
- 범위: `src/core/camera.js`, `src/core/loop.js`
- 요구사항:
  - speed(0~1)에 비례해 FOV 60~85 사이 lerp
  - 급격한 튐 방지(스무딩 적용)
- 완료 조건:
  - dev/preview에서 동작 확인
  - 기본 씬에서 체감되는 가속감 확인
